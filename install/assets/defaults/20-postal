#!/usr/bin/with-contenv /bin/bash

CLAMAV_PORT=${CLAMAV_PORT:-"3310"}
CONFIG_FILE=${CONFIG_FILE:-"postal.yml"}
CONFIG_PATH=${CONFIG_PATH:-"/config/"}
DB_PORT=${DB_PORT:-"3306"}
DNS_DKIM_IDENTIFIER=${DNS_DKIM_IDENTIFIER:-"postal"}
DNS_DOMAIN_VERIFY_PREFIX=${DNS_DOMAIN_VERIFY_PREFIX:-"postal-verification"}
DNS_HOSTNAME=${DNS_HOSTNAME:-"postal.example.com"}
DNS_MX=${DNS_MX:-"mx.$DNS_HOSTNAME"}
DNS_RETURN_PATH=${DNS_RETURN_PATH:-"rp."$DNS_HOSTNAME}
DNS_RETURN_PATH_PREFIX=${DNS_RETURN_PATH_PREFIX:-"psrp"}
DNS_ROUTE_DOMAIN=${DNS_ROUTE_DOMAIN:-"routes."$DNS_HOSTNAME}
DNS_SPF=${DNS_SPF:-"spf."$DNS_HOSTNAME}
DNS_TRACK_DOMAIN=${DNS_TRACK_DOMAIN:-"track."$DNS_HOSTNAME}
ENABLE_CLAMAV=${ENABLE_CLAMAV:-"false"}
ENABLE_RSPAMD=${ENABLE_RSPAMD:-"false"}
ENABLE_SPAMASSASSIN=${ENABLE_SPAMASSASSIN:-"false"}
LOG_CONSOLE=${LOG_CONSOLE:-false}
LOG_PATH=${LOG_PATH:-"/logs/"}
LOG_SIZE_MAX=${LOG_SIZE_MAX:-9999}
MAX_DELIVERY_ATTEMPTS=${MAX_DELIVERY_ATTEMPTS:-"18"}
MAX_HOLD_EXPIRY_DAYS=${MAX_HOLD_EXPIRY_DAYS:-"7"}
RSPAMD_FLAGS=${RSPAMD_FLAGS:-"null"}
RSPAMD_PASS=${RSPAMD_PASS:-"null"}
RSPAMD_PORT=${RSPAMD_PORT:-"11334"}
RSPAMD_SSL=${RSPAMD_SSL:-"FALSE"}
SETUP_TYPE=${SETUP_TYPE:-"AUTO"}
SIGNING_KEY_FILE=${SIGNING_KEY_FILE:-"signing.key"}
SIGNING_KEY_BITS=${SIGNING_KEY_BITS:-"1024"}
SMTP_CLIENT_OPEN_TIMEOUT=${SMTP_CLIENT_OPEN_TIMEOUT:-"30"}
SMTP_CLIENT_READ_TIMEOUT=${SMTP_CLIENT_READ_TIMEOUT:-"60"}
SMTP_FROM_ADDRESS=${SMTP_FROM_ADDRESS:-"postal@yourdomain.com"}
SMTP_FROM_NAME=${SMTP_FROM_NAME:-"Postal"}
SMTP_HOST=${SMTP_HOST:-"127.0.0.1"}
SMTP_PORT=${SMTP_PORT:-"25"}
SMTP_RELAY_HOST=${SMTP_RELAY_HOST:-""}
SMTP_RELAY_PORT=${SMTP_RELAY_PORT:-"25"}
SMTP_RELAY_SSL_MODE=${SMTP_RELAY_SSL_MODE:-"Auto"}
SMTP_SERVER_ENABLE_TLS=${SMTP_SERVER_ENABLE_TLS:-"false"}
SMTP_SERVER_HELO_HOSTNAME=${SMTP_SERVER_HELO_HOSTNAME:-"$DNS_HOSTNAME"}
SMTP_SERVER_LOG_CONNECTIONS=${SMTP_SERVER_LOG_CONNECTIONS:-"true"}
SMTP_SERVER_MAX_MESSAGE_SIZE=${SMTP_SERVER_MAX_MESSAGE_SIZE:-50}
SMTP_SERVER_PORT=${SMTP_SERVER_PORT:-"25"}
SMTP_SERVER_PROXY_PROTOCOL=${SMTP_SERVER_PROXY_PROTOCOL:-"false"}
SMTP_SERVER_SSL_VERSION=${SMTP_SERVER_SSL_VERSION:-"SSLv23"}
SMTP_SERVER_STRIP_RECEIVED_HEADERS=${SMTP_SERVER_STRIP_RECEIVED_HEADERS:-"false"}
SMTP_SERVER_TLS_CERT=${SMTP_SERVER_TLS_CERT:-"/certs/cert.pem"}
SMTP_SERVER_TLS_CIPHERS=${SMTP_SERVER_TLS_CIPHERS:-""}
SMTP_SERVER_TLS_KEY=${SMTP_SERVER_TLS_KEY:-"/certs/key.pem"}
SPAM_THRESHOLD=${SPAM_THRESHOLD:-"5.0"}
SPAM_FAILURE_THRESHOLD=${SPAM_FAILURE_THRESHOLD:-"5.0"}
SPAMASSASSIN_PORT=${SPAMASSASSIN_PORT:-"783"}
SUPPRESSION_LIST_EXPIRY=${SUPPRESSION_LIST_EXPIRY:-"30"}
WEB_BIND_IP=${WEB_BIND_IP:-"0.0.0.0"}
WEB_BIND_PORT=${WEB_BIND_PORT:-"5000"}
WEB_HOST=${WEB_HOST:-"postal.example.com"}
WEB_MAX_THREADS=${WEB_MAX_THREADS:-"5"}
WEB_PROTOCOL=${WEB_PROTOCOL:-"http"}
WORKERS_AMOUNT=${WORKERS_AMOUNT:-"1"}
WORKERS_THREADS=${WORKERS_THREADS:-"4"}